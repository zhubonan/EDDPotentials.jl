<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>AIRSS Background · EDDPotentials.jl</title><meta name="title" content="AIRSS Background · EDDPotentials.jl"/><meta property="og:title" content="AIRSS Background · EDDPotentials.jl"/><meta property="twitter:title" content="AIRSS Background · EDDPotentials.jl"/><meta name="description" content="Documentation for EDDPotentials.jl."/><meta property="og:description" content="Documentation for EDDPotentials.jl."/><meta property="twitter:description" content="Documentation for EDDPotentials.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="EDDPotentials.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">EDDPotentials.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>AIRSS Background</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Ingredients-of-a-search"><span>Ingredients of a search</span></a></li><li><a class="tocitem" href="#Structure-generation"><span>Structure generation</span></a></li><li><a class="tocitem" href="#DFT-relaxation"><span>DFT relaxation</span></a></li><li class="toplevel"><a class="tocitem" href="#When-to-(not)-stop"><span>When to (not) stop</span></a></li><li class="toplevel"><a class="tocitem" href="#The-**AIRSS**-package"><span>The <strong>AIRSS</strong> package</span></a></li><li><a class="tocitem" href="#buildcell"><span><code>buildcell</code></span></a></li><li><a class="tocitem" href="#Options-for-buildcell"><span>Options for <code>buildcell</code></span></a></li><li><a class="tocitem" href="#Options-for-CASTEP"><span>Options for CASTEP</span></a></li><li class="toplevel"><a class="tocitem" href="#The-param-file"><span>The <code>param</code> file</span></a></li><li><a class="tocitem" href="#airss.pl"><span><code>airss.pl</code></span></a></li><li><a class="tocitem" href="#cryan"><span><code>cryan</code></span></a></li><li><a class="tocitem" href="#cabal"><span><code>cabal</code></span></a></li><li><a class="tocitem" href="#castep_relax"><span><code>castep_relax</code></span></a></li></ul></li><li><a class="tocitem" href="../faq/">FAQ</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../python_tools/">Python Tools</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>AIRSS Background</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>AIRSS Background</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/zhubonan/EDDPotentials.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/zhubonan/EDDPotentials.jl/blob/main/docs/src/airss.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Ab-initio-Random-Structure-Searching-(AIRSS)"><a class="docs-heading-anchor" href="#Ab-initio-Random-Structure-Searching-(AIRSS)">Ab initio Random Structure Searching (AIRSS)</a><a id="Ab-initio-Random-Structure-Searching-(AIRSS)-1"></a><a class="docs-heading-anchor-permalink" href="#Ab-initio-Random-Structure-Searching-(AIRSS)" title="Permalink"></a></h1><p>Ab initio random structure searching (AIRSS)<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup><sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup> is an approach to search for low energy structure by simply generating random structures, followed by local optimisation. Local optimisation is a relatively simple and mathematically well-established, it found a nearby local minimum in the configuration space by simply going down-hill in energy. The potential energy surface (PES) can be divided into many basins-of-attraction. Performing a local optimisation inside a basin would lead us to bottom of this basin, e.g. the local minimum.</p><p>From first glance, such random sampling approach is deemed to fail for complex and high-dimensional configuration space due to the existence of many high energy local minima, making the chance of landing in the basin of attraction of the global minimum diminishing. However, one must not forget that the potential energy surface (PES) is a physical quantity, and hence their structure follow certain rules. While the number of high energy local minima may be overwhelming, the chance of landing into a basins-of-attraction is proportional to its hypervolume, and the lower the energy, the larger the hypervolume, favouring even a random sampler. In addition, we know that a large portion of the configuration space is not likely to contain any low energy minima - the atoms the bonds between them do have well-known finite sizes. The region of the PES including atoms very close to each other are unlikely to have any low energy minima, and hence can be excluded from sampling. Likewise, structures with atoms far apart from each other should also be excluded from sampling. With a few physical constraints, such as the species-wise minimum separations, including symmetry operations, a simple random search approach can be made highly efficient for locating the ground state structure and other low energy polymorphs. While the structures are <em>randomly</em> generated, the parameters controlling the generation process are <em>not randomly chosen</em> - they are motivated by physical reasons.</p><p>The phrase <em>ab initio</em> not only means that this approach <strong>can</strong> be used with first-principles methods for energy evaluation, but also that it <strong>should</strong> be used with them, since it is the physical nature of the PES that is been exploited here. While random search can be applied with parameterized interatomic potentials, the latter are unlikely to reproduce the true PES especially in the region far away from fitted phases. Hence, it is not a surprise if random search does not work well in those cases.</p><p>A consequence of random sampling is that the computational workload can be made fully parallel and distributed. There is no need to coordinate the search as a whole, each worker can work independently little or no inter-communication at all. In constrast, <em>global optimisation</em> methods such as basin hopping, requires each calculation to be performed in serial. Population based approaches such as genetic algorithms and particle swarm optimisation allow certain degree of parallelism within a single generation (tenth of structures), but each generation still have to be evaluated iteratively.</p><p>This means that for random searching:</p><ul><li>The underlying DFT calculations can be parallelised over only a few   CPUs each, maximising the parallel efficiently which otherwise can   drop sharply with increasing core counts.</li><li>The elimination of iterative process means there is no dilemma of   <em>exploration or exploitation</em>.</li><li>A further consequence is that the DFT calculations can be performed   at relatively low basis set qulaity and accuracy to maximise the   speed, usually at several times lower in the cost compared to normal   calculations.</li><li>In addition, most structures include and perserv symmetry operations   throughout the process, which can be used to speed-up DFT   calculations by several folds.</li></ul><h1 id="Ingredients-of-a-search"><a class="docs-heading-anchor" href="#Ingredients-of-a-search">Ingredients of a search</a><a id="Ingredients-of-a-search-1"></a><a class="docs-heading-anchor-permalink" href="#Ingredients-of-a-search" title="Permalink"></a></h1><p>This section gives a brief introduction of how to run a search using <code>airss</code> along.</p><p>The searching process is rather simple: a random structure is generated and subsequently relaxed. However, both steps needs to be optimised for efficient searching.</p><h2 id="Structure-generation"><a class="docs-heading-anchor" href="#Structure-generation">Structure generation</a><a id="Structure-generation-1"></a><a class="docs-heading-anchor-permalink" href="#Structure-generation" title="Permalink"></a></h2><p>In particular, the random structure should be not generated purely \&quot;randomly\&quot;, but instead should based on a set of pre-determined constraints, to ensure that the output structures are physically sound. If not done so, the search can be rather inefficient<sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup><sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup><sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup> (often incorrectly interpreted as baseline).</p><p>The structure generation process is done by the <code>buildcell</code> program, which takes a CASTEP <code>cell</code> file style input. The key quantities pass for providing the constraints are:</p><ul><li>Estimated volume</li><li>Species-wise minimum separations</li><li>Number of symmetry operations to include</li></ul><p>The question is: how can one know this prior to even performing the search? One simple way is to perform a short search with some guessed values. Such search may not find the true ground state, but the low energy structure would be able to provide the <em>cues</em> of what a ground state structure may look like. The first two parameters can thereby be estimated from the low energy structure of such \&quot;pilot\&quot; search. Alternatively, if there are known experimental structure, the first two parameters can be estimated from those as well.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p><code>cat &lt;xxx&gt;.res | cryan -g</code> is your friend for exacting these parameters. If the input structure is not in the SHELX format, the <code>cabal</code> tool can be used to convert it into that!</p></div></div><p>If one looks at typically polymorphs of a compounds, they do not vary too much (say \&lt; 20%) in terms of density and bond lengths. The species-wise minimum separation may be inferred from that of chemically similar materials. The exact values of the first two parameters would not make a huge difference in terms of search efficiency as long as they are sensible. In fact, one may want to use minimum separation drawn randomly from a certain</p><p>Finally, one may want to include symmetry operations in the generated structures - experimental structures are rarely <em>P1</em> after all. Typically, two to four symmetry operations are included in the generated structure. The actual structure may gain more symmetry during the geometry operatimisation process, so the it is no necessary to have chosen specific space group in the first place.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>A side issue of imposing symmetry operations is that once a space group is chosen, the multiplicity of a atom will not change during subsequent relaxations. For example, atoms at the general positions will not be able to move to special positions. The default rule in <code>airss</code> is to maximise the occupation of general positions, which reduces the overall degrees of freedom. This also seems to follow the trend in most known crystals, but there can be exceptions. More special positions can be occupied by specifying the <code>#ADJGEN</code> setting. Mind that the general positions of a low symmetry space group can still become special positions of a higher symmetry one or that of a smaller unit cell.</p></div></div><p>The template <code>cell</code> file generate by <code>gencell</code> contains other default settings which will not be detailed here.</p><h2 id="DFT-relaxation"><a class="docs-heading-anchor" href="#DFT-relaxation">DFT relaxation</a><a id="DFT-relaxation-1"></a><a class="docs-heading-anchor-permalink" href="#DFT-relaxation" title="Permalink"></a></h2><p>Each generated structure needs to be relaxed to a local minimium by some means. First-principles based methods are preferable as they provide realistic potential energy surfaces that are relatively smooth. Typically, this is done by CASTEP<sup class="footnote-reference"><a id="citeref-4" href="#footnote-4">[4]</a></sup> , although other plane wave DFT code may also be used as well. CASTEP is preferred because it is well tested for this kind of tasks. It has robust electronic and ionic minimisation routines and soft pseudopotentials (QC5) optimised for throughput. The self-adaptive parallelisation in CASTEP also make it easy to deploy calculations on computing resources, since no manual input of parallelisation scheme is needed.</p><p>The typical setting is to use the QC5 pseudopotentials that requires very low cut off energies (300 - 340 eV) in order to maximise the speed. These potentials are probably not accurate enough for regular calculations, but they are sufficient for sampling the potential energy surfaces. The depth and the relative positions the local minima may be slightly wrong, but using them would be allow us to local these low energy structure much faster. Since there is no ranking taking place during the search to direct the sampling region (e.g. unlike GA or PSO), it is not necessary to obtain accurate energy and structures at this stage. In the end, a set of high quality calculations (typically using the C19 pseudopotential set) needs be applied to refine the results and obtain reliable energy orderings. This process is applied to only a subset of low energy structures that are already near the local minimum needs to be processed.</p><h1 id="When-to-(not)-stop"><a class="docs-heading-anchor" href="#When-to-(not)-stop">When to (not) stop</a><a id="When-to-(not)-stop-1"></a><a class="docs-heading-anchor-permalink" href="#When-to-(not)-stop" title="Permalink"></a></h1><p>In crystal structure prediction, there is no way to make sure the ground state structure found is indeed true ground state, unless one performs a exhaustive sampling of the potential energy surface, which is impractical for any high-dimensional space. However, for a single search, ones still have to have a stopping criteria.</p><h1 id="The-**AIRSS**-package"><a class="docs-heading-anchor" href="#The-**AIRSS**-package">The <strong>AIRSS</strong> package</a><a id="The-**AIRSS**-package-1"></a><a class="docs-heading-anchor-permalink" href="#The-**AIRSS**-package" title="Permalink"></a></h1><p>The <strong>AIRSS</strong> package is a open-source collection of tools and scripts for performing <em>ab initio</em> random structure searching (AIRSS) (which confusinly has the same name), and analysing the results. The key components of this package includes:</p><h2 id="buildcell"><a class="docs-heading-anchor" href="#buildcell"><code>buildcell</code></a><a id="buildcell-1"></a><a class="docs-heading-anchor-permalink" href="#buildcell" title="Permalink"></a></h2><p>The main work horse for generating structures. This file reads a input <em>seed</em> file from stdin and outputs generated structuer in stdout. Both input and outputs files are in the CASTEP\&#39;s <code>cell</code> format, and the former contains special directives on how the random Structure should be generated.</p><p>It is often useful to generate a initial cell using the <code>gencell</code> utility with <code>gencell &lt;volume&gt; &lt;units&gt; [&lt;specie&gt; &lt;number&gt;]</code>. For example to search for <code>SrTiO3</code>, one can input:</p><pre><code class="language-console hljs">gencell 60 4 Sr 1 Ti 1 O 3</code></pre><p>This prepares a seed to search for four formula units of <code>SrTiO3</code>, each formula unit is expected to have a volume of 60 <span>$\mathrm{Å^3}$</span>.</p><p>The content of the generated file <code>4SrTiO3.cell</code> is shown below:</p><pre><code class="nohighlight hljs">%BLOCK LATTICE_CART
3.914865 0 0
0 3.914865 0
0 0 3.914865
%ENDBLOCK LATTICE_CART

#VARVOL=60

%BLOCK POSITIONS_FRAC
Sr 0.0 0.0 0.0 # Sr1 % NUM=1
Sr 0.0 0.0 0.0 # Sr2 % NUM=1
Sr 0.0 0.0 0.0 # Sr3 % NUM=1
Sr 0.0 0.0 0.0 # Sr4 % NUM=1
Ti 0.0 0.0 0.0 # Ti1 % NUM=1
Ti 0.0 0.0 0.0 # Ti2 % NUM=1
Ti 0.0 0.0 0.0 # Ti3 % NUM=1
Ti 0.0 0.0 0.0 # Ti4 % NUM=1
O 0.0 0.0 0.0 # O1 % NUM=1
O 0.0 0.0 0.0 # O2 % NUM=1
O 0.0 0.0 0.0 # O3 % NUM=1
O 0.0 0.0 0.0 # O4 % NUM=1
O 0.0 0.0 0.0 # O5 % NUM=1
O 0.0 0.0 0.0 # O6 % NUM=1
O 0.0 0.0 0.0 # O7 % NUM=1
O 0.0 0.0 0.0 # O8 % NUM=1
O 0.0 0.0 0.0 # O9 % NUM=1
O 0.0 0.0 0.0 # O10 % NUM=1
O 0.0 0.0 0.0 # O11 % NUM=1
O 0.0 0.0 0.0 # O12 % NUM=1
%ENDBLOCK POSITIONS_FRAC

##SPECIES=Sr,Ti,O
##NATOM=3-9
##FOCUS=3

#SYMMOPS=2-4
##SGRANK=20
#NFORM=1
##ADJGEN=0-1
#SLACK=0.25
#OVERLAP=0.1
#MINSEP=1-3 AUTO
#COMPACT
#CELLADAPT
##SYSTEM={Rhom,Tric,Mono,Cubi,Hexa,Orth,Tetra}

KPOINTS_MP_SPACING 0.07

SYMMETRY_GENERATE
SNAP_TO_SYMMETRY

%BLOCK SPECIES_POT
QC5
%ENDBLOCK SPECIES_POT

%BLOCK EXTERNAL_PRESSURE
0 0 0
0 0
0
%ENDBLOCK EXTERNAL_PRESSURE</code></pre><p>As you can see, the input file for <code>buildcell</code> is essentially an marked up <code>cell</code> file for CASTEP. Lines starting with <code>#</code> provides directives for <code>buildcell</code>, although those with <code>##</code> will still be ignored.</p><h2 id="Options-for-buildcell"><a class="docs-heading-anchor" href="#Options-for-buildcell">Options for <code>buildcell</code></a><a id="Options-for-buildcell-1"></a><a class="docs-heading-anchor-permalink" href="#Options-for-buildcell" title="Permalink"></a></h2><p>Several key tags are explained below:</p><ul><li><p><code>VARVOL</code></p><p>Defines the <em>variable</em> volume of the unit cell, the exact volume   will be randomise at a harded coded range of ± 5%. The actual unit   cell vectors will be randomised, and those in the <code>LATTICE_CART</code>   block takes no effect.</p></li><li><p><code>POSITIONS_ABC</code></p><p>Defines the <em>initial</em> positions of the atoms in the unit cell. The   syntax after the <code>#</code> is <code>&lt;set name&gt; % [&lt;tags&gt;...]</code>. Where   <code>&lt;set name&gt;</code> can be used to define rigid fragments by setting the   same value for all of the linked sites. Since each atom should be   considered independently in this example, each line has a different   value. After the <code>%</code> comes the site-specific settings. The <code>NUM</code>   allows a single site to be multiplicated. For example, adding 12   oxygen atoms can achieved specified by <code>O 0. 0. 0. # O % NUM=12</code>   instead of doing it line by line.</p></li><li><p><code>SYMOPS</code></p><p>Defines the number of symmetry operations to be included in the   randomised structure. The <code>-</code> defines the range and a random value   will be drawn from.</p></li><li><p><code>SGRANK</code></p><p>This tags can be enabled to bias the (randomly chosen) space group   towards those that are more frequently found in the ICSD. The value   defines a threshold rank for accepting the space group.</p></li><li><p><code>NFORM</code></p><p>This tags defines the number of formula units to be included in the   generated structure. Here, the cell has the formula <span>$\ce{Sr4Ti4O12}$</span>   according to the <code>POSITIONS_ABC</code> block. If one changes <code>NFORM</code> to be   <code>2</code>, then the effective chemical formula would be <span>$\ce{Sr8Ti8O24}$</span>.   If <code>NCORM</code> is not defined, the composition will be affect by   <code>SYMOPS</code>, placing all atoms in the general positions.</p></li><li><p><code>ADJGEN</code></p><p>This tags is used to modify the number of general positions when   generating symmetry-containing structures. By default, the number of   general positions is maximised. This tags allows more special   postions to be occupied if possible. For blind search, there is no   need to use this tag in most cases.</p></li><li><p><code>MINSEP</code></p><p>This tags defines the specie-wise minimum separations and is one of   the few tags that need to be manually changed by hand. The default   <code>1-3 AUTO</code> means to randomly set minimum separations <em>per   specie-pair</em> between 1 Å and 3 Å, but also try to extract and use   that of the best structure if possible. The latter part is achieved   by looking for a <code>.minsep</code> file in the current wroking directory,   which is generated by the <code>airss.pl</code> script on-the-fly. This   approach cannot be used by <code>DIPS</code> searches each calculation will be   run from different directories (and probably also different   machines). Initial values may be composed by the knowledge of common   bond lengths. The <code>cryan -g</code> command can also be used to extract   <code>MINSEP</code> from existing structures.</p></li><li><p><code>SLACK,OVERLAP</code></p><p>These two tags controls the process of modifying the structure to   satisfy the minimum separations. Roughly speaking, a geometry   optimisation is performed ,each species-pair having a hard shell   potential. The tag <code>SLACK</code> defines how <em>soft</em> the hard shell   potential constructed will be, and <code>OVERLAP</code> defines the threshold   for acceptance. There is usually no need to vary these two tags.</p></li><li><p><code>COMPACT,CELLADAPT</code></p><p>Controls if the cell should be compacted and deformed based on the   hard shell potentials. There is usually no need to change these two   tags.</p></li><li><p><code>SYSTEM</code></p><p>Allows limiting the generated structure to certain crystal systems,   which can be useful to bias the search based on prior knowledge.</p></li></ul><h2 id="Options-for-CASTEP"><a class="docs-heading-anchor" href="#Options-for-CASTEP">Options for CASTEP</a><a id="Options-for-CASTEP-1"></a><a class="docs-heading-anchor-permalink" href="#Options-for-CASTEP" title="Permalink"></a></h2><p>Lines not marked up by <code>#</code> are often passed through, below are descriptions of some CASTEP-related tags that goes in the <code>cell</code> file.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The <code>buildcell</code> program will not always pass through the native CASTEP keys, so check the output cell carefully.</p></div></div><ul><li><p><code>KPOINTS_MP_SPACING</code></p><p>Defines kpoints spacing in unit of <span>$\mathrm{2\pi\,Å^{-1}}$</span>. Usually   a not so well-converged setting can be used for the initial search.</p></li><li><p><code>SYMMETRY_GENERATE</code></p><p>Let CASTEP determine the symmetry for acclerating calculations. You   will almost always want to have this.</p></li><li><p><code>SNAP_TO_SYMMETRY</code></p><p>Snap the atoms to the positions according to the determined   symmetry. You will almost always want to have this.</p></li><li><p><code>EXTERNAL_PRESSURE</code></p><p>The upper triangle of the external stress tenser. It does not get   passed through after <code>buildcell</code>.</p></li><li><p><code>HUBBARD_U</code></p><p>The Hubbard-U values for each specie and orbital. For example,   <code>Mn d:3</code> will apply an effective U of 3 eV to the d orbital of Mn.</p></li></ul><h1 id="The-param-file"><a class="docs-heading-anchor" href="#The-param-file">The <code>param</code> file</a><a id="The-param-file-1"></a><a class="docs-heading-anchor-permalink" href="#The-param-file" title="Permalink"></a></h1><p>The <code>param</code> file read by CASTEP only, and not used for building structure. A default <code>param</code> file for CASTEP from <code>gencell</code> looks like this:</p><pre><code class="nohighlight hljs">task                 : geometryoptimization
xc_functional        : PBE
spin_polarized       : false
fix_occupancy        : false
metals_method        : dm
mixing_scheme        : pulay
max_scf_cycles       : 1000
cut_off_energy       : 340 eV
opt_strategy         : speed
page_wvfns           : 0
num_dump_cycles      : 0
backup_interval      : 0
geom_method          : LBFGS
geom_max_iter        : 20
mix_history_length   : 20
finite_basis_corr    : 0
fixed_npw            : true
write_cell_structure : true
write_checkpoint     : none
write_bib            : false
write_otfg           : false
write_cst_esp        : false
write_bands          : false
write_geom           : false
bs_write_eigenvalues : false
calculate_stress     : true
</code></pre><p>Several tags that you may want to modify are:</p><ul><li><p><code>xc_functional</code></p><p>Defines the exchange-correlation functional to be used. Since PBE   often bias towards less bonded (larger volume) phases, one may want   to use PBEsol instead.</p></li><li><p><code>spin_polarized</code></p><p>If set to <code>true</code> the calculation will be spin polarized. Note that   CASTEP does not have default set for each site, so one have to break   the symmetry manually in addition to setting this tag.</p></li><li><p><code>fixed_npw</code></p><p>aka, fix the number of plane waves. CASTEP default to constant   basis-quality during variable-cell geometry geometry optmisation   rather than the constant basis set in many other plane wave codes.   While this allows getting a reliable final energy with restarts, the   <code>castep_relax</code> script already handles automatically restart anyway.   Having consistant basis-quality may not be optimum when large pulay   stress is present, e.g. using less well-converged cut off energies.   Hence, it is preferable to set it to <code>true</code> and use the constant   basis set approach.</p></li><li><p><code>cut_off_energy</code></p><p>The cut off energy should be sufficient for the pseudopotential   used. There is no need to high quality but harder pseudopotentials   in the initial search in most case.</p></li><li><p><code>geom_method</code></p><p>Algorithm for geometry optmisation. <code>LBFGS</code> works well cases,   otherwise <code>tpsd</code> may be used instead.</p></li><li><p><code>mixing_scheme</code></p><p>This tags controls the charge density mixer. The <code>pulay</code> mixer is OK   for most case, otherwise one can use <code>broyden</code> instead if   convergence struggles.</p></li><li><p><code>max_scf_cycles</code></p><p>Keep a large value to avoid CASTEP giving up the structure due to   electronic convergence instability.</p></li><li><p><code>opt_strategy</code></p><p>Use <code>speed</code> to keep everything in the RAM and avoid any slow disk   IO.</p></li><li><p><code>geom_max_iter</code></p><p>Number of geometry optimisation per run. Since <code>castep_relax</code> will   repetively restart calculation, use a small value so the basis set   is reset every so often. For fixed cell optimisation, one can use a   large value in combination with apporiate <code>castep_relax</code> arguments   and avoid restarts.</p></li><li><p><code>metals_method</code></p><p>Use <code>dm</code> (density mixing) for speed.</p></li></ul><h2 id="airss.pl"><a class="docs-heading-anchor" href="#airss.pl"><code>airss.pl</code></a><a id="airss.pl-1"></a><a class="docs-heading-anchor-permalink" href="#airss.pl" title="Permalink"></a></h2><p>The main driver script for performing the search. It read command line arguments and performs random structure generation and runs DFT calculations in serial, and stop until the specified number of structure has been generated. Because the search is embarrsingly parallel, one can just launch as many <code>airss.pl</code> as they like to occupy all computational resources. For example, to sample 800 structure using 128 cores, one can launch 8 <code>airss.pl</code> script each using 16 cores and sampling 100 structures. The result of <code>airss.pl</code> are saved in the SHELX format with suffix <code>res</code>. These files contains both the crystal structure and the calculated quantities. While DISP does not use this script directly, it is recommanded that the user familiarise themselves with operating AIRSS using it.</p><h2 id="cryan"><a class="docs-heading-anchor" href="#cryan"><code>cryan</code></a><a id="cryan-1"></a><a class="docs-heading-anchor-permalink" href="#cryan" title="Permalink"></a></h2><p>A tool to analyse the relaxed structures. It can be used to rank structures according to energy as well as eliminating nearly identical structures and extracting species-wise minimum distances. It also has many other advanced features as such decomposing a structure into modular units.</p><h2 id="cabal"><a class="docs-heading-anchor" href="#cabal"><code>cabal</code></a><a id="cabal-1"></a><a class="docs-heading-anchor-permalink" href="#cabal" title="Permalink"></a></h2><p>A tool for convert different file formats. It is used internally by various scripts. One very useful feature is to convert file into SHELX format so they can be processed by <code>cryan</code>.</p><h2 id="castep_relax"><a class="docs-heading-anchor" href="#castep_relax"><code>castep_relax</code></a><a id="castep_relax-1"></a><a class="docs-heading-anchor-permalink" href="#castep_relax" title="Permalink"></a></h2><p>This is script supplied by the <code>airss</code> package. The main idea is to restart the DFT calculations every certain number of geometry step, in order to update the basis set when running in the <em>fixed basis set</em> mode with variable unit cell. By default, the script does several restarts with very small number of ionic steps, as it is expected that the volume could change significantly in the very begining. Afterwards, the <code>geom_max_iter</code> setting in the <code>param</code> is respected. The optimisation is terminated if CASTEP reports that the optimization is successful in two consecutive restats, of if the maximum number of steps has been reached.</p><p>The input syntax is:</p><pre><code class="nohighlight hljs">castep_relax &lt;maxit&gt; &lt;exe&gt; &lt;sim&gt; &lt;symm&gt; &lt;seed&gt;</code></pre><p>These arguments are explained as below:</p><ul><li><code>&lt;maxit&gt;</code>: The maximum total number of geometry optimisation steps   among all restarts. The optimisation is <em>assumed</em> to be finished if   this number of steps has been reached.</li><li><code>&lt;exe&gt;</code>: The launch command for running CASTEP, including the MPI   launch command and its arguments.</li><li><code>&lt;sim&gt;</code>: Aswitch to enable check if the same structure has been   found before. It should be disabled by setting it to <code>0</code> in DISP, as   each calculation is run under a different directory.</li><li>If the <code>&lt;symm&gt;</code> switch is set to <code>1</code> the structure will be   symmetrised on-the-fly during the restarts. It is typically turned   off.</li><li><code>&lt;seed&gt;</code>: The name of the seed for CASTEP.</li></ul><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Pickard, C. J.; Needs, R. J. Ab Initio Random Structure Searching. Journal of physics. Condensed matter : an Institute of Physics journal 2011, 23 (5), 053201–053201. <a href="https://doi.org/10.1088/0953-8984/23/5/053201">https://doi.org/10.1088/0953-8984/23/5/053201</a>.</li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>Section 4.2.2, <a href="https://doi.org/10.17863/CAM.55681">https://doi.org/10.17863/CAM.55681</a></li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a>Figure 7, <a href="https://doi.org/10.1016/j.cpc.2020.107810">https://doi.org/10.1016/j.cpc.2020.107810</a></li><li class="footnote" id="footnote-4"><a class="tag is-link" href="#citeref-4">4</a>Academic license for CASTEP can be obtained free of charge, see <a href="http://www.castep.org">http://www.castep.org</a>.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting_started/">« Getting Started</a><a class="docs-footer-nextpage" href="../faq/">FAQ »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 30 October 2024 06:39">Wednesday 30 October 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
